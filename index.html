<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Analytics Dashboard</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>

        :root {

            --bg-primary: #ffffff;

            --bg-secondary: #f8f9fa;

            --text-primary: #2d3436;

            --text-secondary: #636e72;

            --accent: #0984e3;

            --border: #dfe6e9;

            --sidebar-width: 250px;

            --modal-bg: rgba(0, 0, 0, 0.5);

        }

        [data-theme="dark"] {

            --bg-primary: #2d3436;

            --bg-secondary: #222;

            --text-primary: #f8f9fa;

            --text-secondary: #b2bec3;

            --accent: #74b9ff;

            --border: #636e72;

        }

        * {

            margin: 0;

            padding: 0;

            box-sizing: border-box;

        }

        body {

            font-family: 'Inter', sans-serif;

            background: var(--bg-primary);

            color: var(--text-primary);

            display: flex;

            transition: all 0.3s ease;

        }

        .sidebar {

            width: var(--sidebar-width);

            height: 100vh;

            background: var(--bg-secondary);

            border-right: 1px solid var(--border);

            padding: 20px;

            position: fixed;

            transition: all 0.3s ease;

            z-index: 100;

        }

        .sidebar.collapsed {

            width: 60px;

            padding: 20px 10px;

        }

        .sidebar-toggle {

            position: absolute;

            top: 20px;

            right: -15px;

            width: 30px;

            height: 30px;

            background: var(--accent);

            border-radius: 50%;

            display: flex;

            justify-content: center;

            align-items: center;

            color: white;

            cursor: pointer;

            border: none;

            z-index: 101;

            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);

        }

        .nav-icon {

            margin-right: 15px;

            width: 20px;

            text-align: center;

        }

        .sidebar.collapsed .nav-text {

            display: none;

        }

        .sidebar.collapsed .logo-text {

            display: none;

        }

        .logo {

            font-size: 24px;

            font-weight: 600;

            margin-bottom: 40px;

            color: var(--accent);

        }

        .nav-item {

            padding: 12px 16px;

            margin: 8px 0;

            border-radius: 8px;

            cursor: pointer;

            color: var(--text-secondary);

            transition: all 0.2s;

        }

        .nav-item:hover {

            background: var(--accent);

            color: white;

        }

        .nav-item.active {

            background: var(--accent);

            color: white;

        }

        main {

            margin-left: var(--sidebar-width);

            padding: 20px;

            width: calc(100% - var(--sidebar-width));

            transition: margin-left 0.3s ease;

        }

        main.expanded {

            margin-left: 60px;

            width: calc(100% - 60px);

        }

        .header {

            display: flex;

            justify-content: space-between;

            align-items: center;

            margin-bottom: 30px;

        }

        .theme-switch {

            background: var(--bg-secondary);

            border: 1px solid var(--border);

            padding: 8px 16px;

            border-radius: 20px;

            cursor: pointer;

            color: var(--text-secondary);

        }

        .charts-container {

            display: grid;

            grid-template-columns: repeat(2, 1fr);

            gap: 20px;

            margin-bottom: 30px;

        }

        .chart-card {

            background: var(--bg-secondary);

            border-radius: 12px;

            padding: 20px;

            border: 1px solid var(--border);

        }

        .data-table {

            background: var(--bg-secondary);

            border-radius: 12px;

            padding: 20px;

            border: 1px solid var(--border);

        }

        .search-bar {

            width: 100%;

            padding: 10px;

            border: 1px solid var(--border);

            border-radius: 6px;

            margin-bottom: 20px;

            background: var(--bg-primary);

            color: var(--text-primary);

        }

        table {

            width: 100%;

            border-collapse: collapse;

        }

        th, td {

            padding: 12px;

            text-align: left;

            border-bottom: 1px solid var(--border);

            color: var(--text-secondary);

        }

        th {

            color: var(--text-primary);

        }

        .tooltip {

            position: absolute;

            background: var(--bg-primary);

            border: 1px solid var(--border);

            padding: 10px;

            border-radius: 6px;

            display: none;

            z-index: 100;

        }

        /* Search options */
        .search-container {

            display: flex;

            gap: 10px;

            margin-bottom: 20px;

            align-items: center;

        }

        .search-options {

            display: flex;

            gap: 10px;

        }

        .search-option {

            padding: 5px 10px;

            background: var(--bg-primary);

            border: 1px solid var(--border);

            border-radius: 4px;

            cursor: pointer;

            color: var(--text-secondary);

        }

        .search-option.active {

            background: var(--accent);

            color: white;

            border-color: var(--accent);

        }

        /* Modal styles */
        .modal {

            display: none;

            position: fixed;

            top: 0;

            left: 0;

            width: 100%;

            height: 100%;

            background-color: var(--modal-bg);

            z-index: 1000;

            justify-content: center;

            align-items: center;

        }

        .modal-content {

            background: var(--bg-primary);

            border-radius: 12px;

            padding: 30px;

            width: 90%;

            max-width: 800px;

            max-height: 85vh;

            overflow-y: auto;

            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);

            position: relative;

        }

        /* Compact layout for reports modal */
        #reportsModal .modal-content {
            display: flex;
            flex-direction: column;
        }

        #reportsModal .report-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }

        .modal-close {

            position: absolute;

            top: 15px;

            right: 15px;

            font-size: 24px;

            cursor: pointer;

            color: var(--text-secondary);

        }

        /* Tab styles */
        .analytics-tabs, .settings-tabs {

            display: flex;

            border-bottom: 1px solid var(--border);

            margin-bottom: 20px;

            margin-top: 15px;

        }

        .tab {

            padding: 10px 20px;

            cursor: pointer;

            color: var(--text-secondary);

            border-bottom: 2px solid transparent;

        }

        .tab.active {

            color: var(--accent);

            border-bottom: 2px solid var(--accent);

        }

        .tab-pane {

            display: none;

        }

        .tab-pane.active {

            display: block;

        }

        /* Form styles */
        .settings-form {

            display: flex;

            flex-direction: column;

            gap: 15px;

        }

        .form-group {

            display: flex;

            flex-direction: column;

            gap: 5px;

        }

        .form-group label {

            font-weight: 500;

            color: var(--text-primary);

        }

        .form-group input, .form-group select,
        select, input[type="date"], input[type="text"], input[type="email"], input[type="password"] {

            padding: 8px 12px;

            border: 1px solid var(--border);

            border-radius: 4px;

            background: var(--bg-primary);

            color: var(--text-primary);

        }

        /* Fix for dark mode dropdowns and inputs */
        [data-theme="dark"] select,
        [data-theme="dark"] input[type="date"],
        [data-theme="dark"] input[type="text"],
        [data-theme="dark"] input[type="email"],
        [data-theme="dark"] input[type="password"] {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border-color: var(--border);
        }

        /* Fix for option elements in dark mode */
        [data-theme="dark"] option {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }

        /* Button styles */
        .action-button {

            background: var(--accent);

            color: white;

            border: none;

            padding: 10px 20px;

            border-radius: 4px;

            cursor: pointer;

            font-weight: 500;

            margin-top: 15px;

        }

        .action-button.secondary {

            background: transparent;

            border: 1px solid var(--accent);

            color: var(--accent);

        }

        .action-button.small {

            padding: 5px 10px;

            font-size: 14px;

        }

        /* Report styles */
        .report-options {

            display: grid;

            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));

            gap: 15px;

            margin-bottom: 15px;

        }

        .report-summary {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .date-inputs {

            display: flex;

            flex-direction: column;

            gap: 10px;

        }

        /* Date inputs styling handled by the general selectors above */

        .format-options {

            display: flex;

            gap: 15px;

        }

        .preview-container {

            background: var(--bg-secondary);

            border-radius: 8px;

            padding: 15px;

            height: 250px;

            margin-bottom: 20px;

            display: flex;

            flex-direction: column;

        }

        .report-preview {
            margin-bottom: 20px;
        }

        #reportSummary {
            margin-top: 15px;
        }

        .report-actions {

            display: flex;

            gap: 10px;

            justify-content: flex-end;

        }

        /* Analytics styles */
        .analytics-filters {

            display: flex;

            gap: 15px;

            margin-bottom: 15px;

            align-items: center;

        }

        /* Analytics filters styling handled by the general selectors above */

        .analytics-chart-container {

            background: var(--bg-secondary);

            border-radius: 8px;

            padding: 15px;

            margin-bottom: 15px;

            height: 250px;

        }

        .analytics-insights {

            background: var(--bg-secondary);

            border-radius: 8px;

            padding: 15px;

        }

        .analytics-insights h4 {

            margin-bottom: 10px;

            color: var(--text-primary);

        }

        .analytics-insights ul {

            padding-left: 20px;

            color: var(--text-secondary);

        }

        /* Settings styles */
        .notification-group, .display-group, .data-group {

            margin-bottom: 20px;

        }

        .notification-option {

            margin: 10px 0;

        }

        .theme-selector {

            display: flex;

            gap: 20px;

            margin: 15px 0;

        }

        .theme-option {

            display: flex;

            flex-direction: column;

            align-items: center;

            cursor: pointer;

        }

        .theme-preview {

            width: 60px;

            height: 40px;

            border-radius: 4px;

            margin-bottom: 5px;

            border: 1px solid var(--border);

        }

        .light-preview {

            background: #ffffff;

            border: 1px solid #ddd;

        }

        .dark-preview {

            background: #2d3436;

            border: 1px solid #555;

        }

        .auto-preview {

            background: linear-gradient(to right, #ffffff 50%, #2d3436 50%);

        }

        .highlight {

            background-color: rgba(9, 132, 227, 0.2);

            border-radius: 3px;

            padding: 0 3px;

        }

    </style>

</head>

<body>

    <nav class="sidebar">

        <button class="sidebar-toggle" id="sidebarToggle">
            <i class="fas fa-chevron-left" id="toggleIcon"></i>
        </button>

        <div class="logo">
            <i class="fas fa-chart-line nav-icon"></i>
            <span class="logo-text">Analytics</span>
        </div>

        <div class="nav-item active" data-modal="dashboardModal">
            <i class="fas fa-tachometer-alt nav-icon"></i>
            <span class="nav-text">Dashboard</span>
        </div>

        <div class="nav-item" data-modal="reportsModal">
            <i class="fas fa-file-alt nav-icon"></i>
            <span class="nav-text">Reports</span>
        </div>

        <div class="nav-item" data-modal="analyticsModal">
            <i class="fas fa-chart-pie nav-icon"></i>
            <span class="nav-text">Analytics</span>
        </div>

        <div class="nav-item" data-modal="settingsModal">
            <i class="fas fa-cog nav-icon"></i>
            <span class="nav-text">Settings</span>
        </div>

    </nav>

    <!-- Modals -->
    <div class="modal" id="dashboardModal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Dashboard</h2>
            <p>This is the main dashboard view. You're already here!</p>
        </div>
    </div>

    <div class="modal" id="reportsModal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Reports</h2>
            <p>Generate and download reports for your business analytics.</p>

            <div class="report-options">
                <div class="report-type">
                    <h3>Report Type</h3>
                    <select id="reportType">
                        <option value="revenue">Revenue Report</option>
                        <option value="users">User Activity Report</option>
                        <option value="transactions">Transaction Summary</option>
                    </select>
                </div>

                <div class="report-period">
                    <h3>Time Period</h3>
                    <div class="date-inputs">
                        <div>
                            <label for="startDate">Start Date:</label>
                            <input type="date" id="startDate" value="2024-01-01">
                        </div>
                        <div>
                            <label for="endDate">End Date:</label>
                            <input type="date" id="endDate" value="2024-01-31">
                        </div>
                    </div>
                </div>

                <div class="report-format">
                    <h3>Format</h3>
                    <div class="format-options">
                        <label>
                            <input type="radio" name="format" value="pdf" checked> PDF
                        </label>
                        <label>
                            <input type="radio" name="format" value="csv"> CSV
                        </label>
                        <label>
                            <input type="radio" name="format" value="excel"> Excel
                        </label>
                    </div>
                </div>
            </div>

            <div class="report-preview">
                <h3>Preview</h3>
                <div id="reportPreview" class="preview-container">
                    <canvas id="reportPreviewChart"></canvas>
                </div>
                <div id="reportSummary" class="report-summary"></div>
            </div>

            <div class="report-actions">
                <button id="generateReport" class="action-button">Generate Report</button>
                <button id="scheduleReport" class="action-button secondary">Schedule Report</button>
            </div>
        </div>
    </div>

    <div class="modal" id="analyticsModal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Advanced Analytics</h2>

            <div class="analytics-tabs">
                <div class="tab active" data-tab="userAnalytics">User Behavior</div>
                <div class="tab" data-tab="revenueAnalytics">Revenue Analysis</div>
                <div class="tab" data-tab="trendAnalytics">Trend Identification</div>
            </div>

            <div class="tab-content">
                <div class="tab-pane active" id="userAnalytics">
                    <h3>User Behavior Analysis</h3>
                    <div class="analytics-filters">
                        <select id="userSegment">
                            <option value="all">All Users</option>
                            <option value="new">New Users</option>
                            <option value="returning">Returning Users</option>
                        </select>
                        <select id="timeRange">
                            <option value="7">Last 7 Days</option>
                            <option value="30" selected>Last 30 Days</option>
                            <option value="90">Last 90 Days</option>
                        </select>
                    </div>
                    <div class="analytics-chart-container">
                        <canvas id="userBehaviorChart"></canvas>
                    </div>
                    <div class="analytics-insights">
                        <h4>Key Insights</h4>
                        <ul id="userInsights">
                            <li>User engagement increased by 24% in the last month</li>
                            <li>Average session duration: 8.5 minutes</li>
                            <li>Most active time: Weekdays between 1-3pm</li>
                        </ul>
                    </div>
                </div>

                <div class="tab-pane" id="revenueAnalytics">
                    <h3>Revenue Analysis</h3>
                    <div class="analytics-filters">
                        <select id="revenueMetric">
                            <option value="gross">Gross Revenue</option>
                            <option value="net">Net Revenue</option>
                            <option value="arpu">Average Revenue Per User</option>
                        </select>
                        <select id="revenuePeriod">
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly" selected>Monthly</option>
                        </select>
                    </div>
                    <div class="analytics-chart-container">
                        <canvas id="revenueAnalysisChart"></canvas>
                    </div>
                    <div class="analytics-insights">
                        <h4>Revenue Insights</h4>
                        <ul id="revenueInsights">
                            <li>Monthly recurring revenue: $42,500</li>
                            <li>Year-over-year growth: 18.7%</li>
                            <li>Customer acquisition cost: $28.50</li>
                        </ul>
                    </div>
                </div>

                <div class="tab-pane" id="trendAnalytics">
                    <h3>Trend Identification</h3>
                    <div class="analytics-filters">
                        <select id="trendCategory">
                            <option value="products">Products</option>
                            <option value="channels">Channels</option>
                            <option value="demographics">Demographics</option>
                        </select>
                        <button id="runAnalysis" class="action-button small">Run Analysis</button>
                    </div>
                    <div class="analytics-chart-container">
                        <canvas id="trendAnalysisChart"></canvas>
                    </div>
                    <div class="analytics-insights">
                        <h4>Emerging Trends</h4>
                        <ul id="trendInsights">
                            <li>Mobile transactions increased by 35% this quarter</li>
                            <li>Peak transaction times shifting to evening hours</li>
                            <li>Subscription-based purchases growing at 28% annually</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Settings</h2>

            <div class="settings-tabs">
                <div class="tab active" data-tab="profileSettings">Profile</div>
                <div class="tab" data-tab="notificationSettings">Notifications</div>
                <div class="tab" data-tab="displaySettings">Display</div>
                <div class="tab" data-tab="dataSettings">Data</div>
            </div>

            <div class="tab-content">
                <div class="tab-pane active" id="profileSettings">
                    <h3>User Profile</h3>
                    <form id="profileForm" class="settings-form">
                        <div class="form-group">
                            <label for="userName">Name</label>
                            <input type="text" id="userName" value="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="userEmail">Email</label>
                            <input type="email" id="userEmail" value="john.doe@example.com">
                        </div>
                        <div class="form-group">
                            <label for="userRole">Role</label>
                            <select id="userRole">
                                <option value="admin">Administrator</option>
                                <option value="analyst" selected>Analyst</option>
                                <option value="viewer">Viewer</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="userPassword">Password</label>
                            <input type="password" id="userPassword" value="********">
                        </div>
                        <button type="submit" class="action-button">Save Changes</button>
                    </form>
                </div>

                <div class="tab-pane" id="notificationSettings">
                    <h3>Notification Settings</h3>
                    <div class="notification-options">
                        <div class="notification-group">
                            <h4>Email Notifications</h4>
                            <div class="notification-option">
                                <label>
                                    <input type="checkbox" checked> Daily Reports
                                </label>
                            </div>
                            <div class="notification-option">
                                <label>
                                    <input type="checkbox" checked> Weekly Summary
                                </label>
                            </div>
                            <div class="notification-option">
                                <label>
                                    <input type="checkbox"> Alert Notifications
                                </label>
                            </div>
                        </div>

                        <div class="notification-group">
                            <h4>System Notifications</h4>
                            <div class="notification-option">
                                <label>
                                    <input type="checkbox" checked> Transaction Alerts
                                </label>
                            </div>
                            <div class="notification-option">
                                <label>
                                    <input type="checkbox" checked> User Activity
                                </label>
                            </div>
                            <div class="notification-option">
                                <label>
                                    <input type="checkbox" checked> System Updates
                                </label>
                            </div>
                        </div>
                    </div>
                    <button id="saveNotifications" class="action-button">Save Preferences</button>
                </div>

                <div class="tab-pane" id="displaySettings">
                    <h3>Display Settings</h3>
                    <div class="display-options">
                        <div class="display-group">
                            <h4>Theme</h4>
                            <div class="theme-selector">
                                <div class="theme-option" data-theme="light">
                                    <div class="theme-preview light-preview"></div>
                                    <span>Light</span>
                                </div>
                                <div class="theme-option" data-theme="dark">
                                    <div class="theme-preview dark-preview"></div>
                                    <span>Dark</span>
                                </div>
                                <div class="theme-option" data-theme="auto">
                                    <div class="theme-preview auto-preview"></div>
                                    <span>Auto</span>
                                </div>
                            </div>
                        </div>

                        <div class="display-group">
                            <h4>Dashboard Layout</h4>
                            <select id="dashboardLayout">
                                <option value="default" selected>Default</option>
                                <option value="compact">Compact</option>
                                <option value="expanded">Expanded</option>
                            </select>
                        </div>

                        <div class="display-group">
                            <h4>Chart Style</h4>
                            <select id="chartStyle">
                                <option value="modern" selected>Modern</option>
                                <option value="classic">Classic</option>
                                <option value="minimal">Minimal</option>
                            </select>
                        </div>
                    </div>
                    <button id="saveDisplaySettings" class="action-button">Apply Changes</button>
                </div>

                <div class="tab-pane" id="dataSettings">
                    <h3>Data Preferences</h3>
                    <div class="data-options">
                        <div class="data-group">
                            <h4>Default Date Range</h4>
                            <select id="defaultDateRange">
                                <option value="7">Last 7 Days</option>
                                <option value="30" selected>Last 30 Days</option>
                                <option value="90">Last 90 Days</option>
                                <option value="365">Last Year</option>
                            </select>
                        </div>

                        <div class="data-group">
                            <h4>Data Refresh Rate</h4>
                            <select id="dataRefreshRate">
                                <option value="5" selected>Every 5 seconds</option>
                                <option value="30">Every 30 seconds</option>
                                <option value="60">Every minute</option>
                                <option value="300">Every 5 minutes</option>
                            </select>
                        </div>

                        <div class="data-group">
                            <h4>Data Export Format</h4>
                            <select id="dataExportFormat">
                                <option value="csv" selected>CSV</option>
                                <option value="excel">Excel</option>
                                <option value="json">JSON</option>
                                <option value="pdf">PDF</option>
                            </select>
                        </div>
                    </div>
                    <button id="saveDataSettings" class="action-button">Save Preferences</button>
                </div>
            </div>
        </div>
    </div>

    <main>

        <header class="header">

            <h1>Dashboard Overview</h1>

            <button class="theme-switch">Toggle Theme</button>

        </header>

        <div class="charts-container">

            <div class="chart-card">

                <h3>Revenue Trends</h3>

                <canvas id="revenueChart"></canvas>

            </div>

            <div class="chart-card">

                <h3>User Activity</h3>

                <canvas id="usersChart"></canvas>

            </div>

        </div>

        <div class="data-table">

            <div class="search-container">
                <input type="text" class="search-bar" placeholder="Search transactions...">
                <div class="search-options">
                    <div class="search-option active" data-field="all">All</div>
                    <div class="search-option" data-field="id">Transaction ID</div>
                    <div class="search-option" data-field="status">Status</div>
                </div>
            </div>

            <table id="transactionsTable">

                <thead>

                    <tr>

                        <th>Date</th>

                        <th>Transaction ID</th>

                        <th>Amount</th>

                        <th>Status</th>

                    </tr>

                </thead>

                <tbody>

                </tbody>

            </table>

        </div>

    </main>

    <div class="tooltip"></div>

    <script>

        // Theme Switching

        const themeSwitch = document.querySelector('.theme-switch');

        themeSwitch.addEventListener('click', () => {

            document.body.dataset.theme = document.body.dataset.theme === 'dark' ? 'light' : 'dark';

        });

        // Sidebar Collapse

        const sidebar = document.querySelector('.sidebar');

        const main = document.querySelector('main');

        const sidebarToggle = document.getElementById('sidebarToggle');

        const toggleIcon = document.getElementById('toggleIcon');

        // Toggle sidebar with button
        sidebarToggle.addEventListener('click', () => {

            sidebar.classList.toggle('collapsed');

            main.classList.toggle('expanded');

            // Change icon direction
            if (sidebar.classList.contains('collapsed')) {

                toggleIcon.classList.remove('fa-chevron-left');

                toggleIcon.classList.add('fa-chevron-right');

            } else {

                toggleIcon.classList.remove('fa-chevron-right');

                toggleIcon.classList.add('fa-chevron-left');

            }

        });

        // Keep keyboard shortcut
        document.addEventListener('keydown', (e) => {

            if (e.key === 'b' && e.ctrlKey) {

                sidebarToggle.click();

            }

        });

        // Charts

        const revenueCtx = document.getElementById('revenueChart').getContext('2d');

        const usersCtx = document.getElementById('usersChart').getContext('2d');

        // Main dashboard charts
        let mainRevenueChart = new Chart(revenueCtx, {

            type: 'line',

            data: {

                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],

                datasets: [{

                    label: 'Revenue',

                    data: [65, 59, 80, 81, 56, 55],

                    borderColor: '#0984e3',

                    tension: 0.4

                }]

            },

            options: {

                responsive: true,

                plugins: {

                    legend: {

                        display: false

                    }

                }

            }

        });

        let mainUsersChart = new Chart(usersCtx, {

            type: 'bar',

            data: {

                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],

                datasets: [{

                    label: 'Active Users',

                    data: [120, 190, 300, 250, 200, 180, 230],

                    backgroundColor: '#0984e3'

                }]

            },

            options: {

                responsive: true,

                plugins: {

                    legend: {

                        display: false

                    }

                }

            }

        });

        // Mock Data

        const transactions = [

            { date: '2024-01-15', id: 'TRX001', amount: '$1,200', status: 'Completed' },

            { date: '2024-01-14', id: 'TRX002', amount: '$850', status: 'Pending' },

            { date: '2024-01-14', id: 'TRX003', amount: '$2,300', status: 'Completed' },

            { date: '2024-01-13', id: 'TRX004', amount: '$750', status: 'Failed' },

            { date: '2024-01-13', id: 'TRX005', amount: '$1,600', status: 'Completed' },

        ];

        // Populate Table

        function populateTable(data) {

            const tbody = document.querySelector('#transactionsTable tbody');

            tbody.innerHTML = '';

            data.forEach(transaction => {

                const row = document.createElement('tr');

                row.innerHTML = `

                    <td>${transaction.date}</td>

                    <td>${transaction.id}</td>

                    <td>${transaction.amount}</td>

                    <td>${transaction.status}</td>

                `;

                tbody.appendChild(row);

            });

        }

        populateTable(transactions);

        // Search Functionality

        const searchBar = document.querySelector('.search-bar');

        const searchOptions = document.querySelectorAll('.search-option');

        let activeSearchField = 'all';

        // Handle search option selection
        searchOptions.forEach(option => {

            option.addEventListener('click', () => {

                // Remove active class from all options
                searchOptions.forEach(opt => opt.classList.remove('active'));

                // Add active class to clicked option
                option.classList.add('active');

                // Update active search field
                activeSearchField = option.dataset.field;

                // Trigger search with current term
                performSearch(searchBar.value);

            });

        });

        // Search function
        function performSearch(searchTerm) {

            searchTerm = searchTerm.toLowerCase();

            let filteredData;

            if (activeSearchField === 'all') {

                filteredData = transactions.filter(transaction =>

                    Object.values(transaction).some(value =>

                        value.toLowerCase().includes(searchTerm)

                    )

                );

            } else if (activeSearchField === 'id') {

                filteredData = transactions.filter(transaction =>

                    transaction.id.toLowerCase().includes(searchTerm)

                );

            } else if (activeSearchField === 'status') {

                filteredData = transactions.filter(transaction =>

                    transaction.status.toLowerCase().includes(searchTerm)

                );

            }

            // Populate table with filtered data
            populateTable(filteredData, searchTerm, activeSearchField);

        }

        // Enhanced populate table with highlighting
        function populateTable(data, searchTerm = '', searchField = 'all') {

            const tbody = document.querySelector('#transactionsTable tbody');

            tbody.innerHTML = '';

            data.forEach(transaction => {

                const row = document.createElement('tr');

                // Create cell content with highlighting if needed
                const dateCell = searchField === 'all' && searchTerm && transaction.date.toLowerCase().includes(searchTerm)
                    ? `<td><span class="highlight">${transaction.date}</span></td>`
                    : `<td>${transaction.date}</td>`;

                const idCell = (searchField === 'all' || searchField === 'id') && searchTerm && transaction.id.toLowerCase().includes(searchTerm)
                    ? `<td><span class="highlight">${transaction.id}</span></td>`
                    : `<td>${transaction.id}</td>`;

                const amountCell = searchField === 'all' && searchTerm && transaction.amount.toLowerCase().includes(searchTerm)
                    ? `<td><span class="highlight">${transaction.amount}</span></td>`
                    : `<td>${transaction.amount}</td>`;

                const statusCell = (searchField === 'all' || searchField === 'status') && searchTerm && transaction.status.toLowerCase().includes(searchTerm)
                    ? `<td><span class="highlight">${transaction.status}</span></td>`
                    : `<td>${transaction.status}</td>`;

                row.innerHTML = dateCell + idCell + amountCell + statusCell;

                tbody.appendChild(row);

            });

        }

        // Listen for input in search bar
        searchBar.addEventListener('input', (e) => {

            performSearch(e.target.value);

        });

        // Tooltips

        const tooltip = document.querySelector('.tooltip');

        function setupTooltips() {

            document.querySelectorAll('td').forEach(cell => {

                cell.addEventListener('mouseover', (e) => {

                    tooltip.style.display = 'block';

                    tooltip.style.left = e.pageX + 10 + 'px';

                    tooltip.style.top = e.pageY + 10 + 'px';

                    tooltip.textContent = e.target.textContent.trim();

                });

                cell.addEventListener('mouseout', () => {

                    tooltip.style.display = 'none';

                });

            });

        }

        setupTooltips();

        // Modal functionality
        const navItems = document.querySelectorAll('.nav-item');

        const modals = document.querySelectorAll('.modal');

        const closeButtons = document.querySelectorAll('.modal-close');

        // Open modal when nav item is clicked
        navItems.forEach(item => {

            item.addEventListener('click', () => {

                const modalId = item.dataset.modal;

                if (modalId) {

                    document.getElementById(modalId).style.display = 'flex';

                }

            });

        });

        // Close modal when close button is clicked
        closeButtons.forEach(button => {

            button.addEventListener('click', () => {

                button.closest('.modal').style.display = 'none';

            });

        });

        // Close modal when clicking outside the modal content
        modals.forEach(modal => {

            modal.addEventListener('click', (e) => {

                if (e.target === modal) {

                    modal.style.display = 'none';

                }

            });

        });

        // Close modal with Escape key
        document.addEventListener('keydown', (e) => {

            if (e.key === 'Escape') {

                modals.forEach(modal => {

                    modal.style.display = 'none';

                });

            }

        });

        // Tab functionality
        const tabButtons = document.querySelectorAll('.tab');

        tabButtons.forEach(tab => {

            tab.addEventListener('click', () => {

                // Get parent tab container
                const tabContainer = tab.parentElement;

                // Get all tabs in this container
                const tabs = tabContainer.querySelectorAll('.tab');

                // Remove active class from all tabs
                tabs.forEach(t => t.classList.remove('active'));

                // Add active class to clicked tab
                tab.classList.add('active');

                // Get the tab content container
                const tabContent = tabContainer.nextElementSibling;

                // Get all tab panes
                const tabPanes = tabContent.querySelectorAll('.tab-pane');

                // Hide all tab panes
                tabPanes.forEach(pane => pane.classList.remove('active'));

                // Show the selected tab pane
                const tabId = tab.dataset.tab;

                document.getElementById(tabId).classList.add('active');

            });

        });

        // Reports functionality
        const reportType = document.getElementById('reportType');

        const startDate = document.getElementById('startDate');

        const endDate = document.getElementById('endDate');

        const generateReportBtn = document.getElementById('generateReport');

        const scheduleReportBtn = document.getElementById('scheduleReport');

        const reportPreviewChart = document.getElementById('reportPreviewChart');

        const reportSummary = document.getElementById('reportSummary');

        // Initialize report preview chart
        let reportChart;

        function updateReportPreview() {

            // Clear previous chart if it exists
            if (reportChart) {

                reportChart.destroy();

            }

            const ctx = reportPreviewChart.getContext('2d');

            const selectedReport = reportType.value;

            const start = new Date(startDate.value);

            const end = new Date(endDate.value);

            // Generate dates between start and end
            const dates = [];

            const currentDate = new Date(start);

            while (currentDate <= end) {

                dates.push(new Date(currentDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));

                currentDate.setDate(currentDate.getDate() + 1);

            }

            // Generate random data based on report type
            const data = dates.map(() => Math.floor(Math.random() * 1000) + 500);

            // Create chart based on report type
            let chartType, chartLabel;

            if (selectedReport === 'revenue') {

                chartType = 'line';

                chartLabel = 'Revenue ($)';

            } else if (selectedReport === 'users') {

                chartType = 'bar';

                chartLabel = 'Active Users';

            } else {

                chartType = 'line';

                chartLabel = 'Transactions';

            }

            reportChart = new Chart(ctx, {

                type: chartType,

                data: {

                    labels: dates,

                    datasets: [{

                        label: chartLabel,

                        data: data,

                        backgroundColor: 'rgba(9, 132, 227, 0.5)',

                        borderColor: '#0984e3',

                        tension: 0.4

                    }]

                },

                options: {

                    responsive: true,

                    maintainAspectRatio: false,

                    plugins: {

                        legend: {

                            display: true

                        }

                    },

                    scales: {
                        y: {
                            beginAtZero: false
                        }
                    }

                }

            });

            // Update summary
            const total = data.reduce((sum, value) => sum + value, 0);

            const avg = Math.round(total / data.length);

            reportSummary.innerHTML = `
                <h4>Summary for ${startDate.value} to ${endDate.value}</h4>
                <p><strong>Total ${chartLabel}:</strong> ${total.toLocaleString()}</p>
                <p><strong>Average ${chartLabel} per day:</strong> ${avg.toLocaleString()}</p>
                <p><strong>Highest day:</strong> ${dates[data.indexOf(Math.max(...data))]}</p>
            `;

        }

        // Initialize report preview
        updateReportPreview();

        // Update preview when inputs change
        reportType.addEventListener('change', updateReportPreview);

        startDate.addEventListener('change', updateReportPreview);

        endDate.addEventListener('change', updateReportPreview);

        // Generate report button
        generateReportBtn.addEventListener('click', () => {

            const format = document.querySelector('input[name="format"]:checked').value;

            alert(`Report generated in ${format.toUpperCase()} format and ready for download!`);

        });

        // Schedule report button
        scheduleReportBtn.addEventListener('click', () => {

            alert('Report scheduled for regular delivery to your email!');

        });

        // Analytics functionality
        const userBehaviorChart = document.getElementById('userBehaviorChart');

        const revenueAnalysisChart = document.getElementById('revenueAnalysisChart');

        const trendAnalysisChart = document.getElementById('trendAnalysisChart');

        const userSegment = document.getElementById('userSegment');

        const timeRange = document.getElementById('timeRange');

        const revenueMetric = document.getElementById('revenueMetric');

        const revenuePeriod = document.getElementById('revenuePeriod');

        const trendCategory = document.getElementById('trendCategory');

        const runAnalysisBtn = document.getElementById('runAnalysis');

        // Initialize analytics charts
        let userChart, analyticsRevenueChart, trendChart;

        function initUserBehaviorChart() {

            if (userChart) {

                userChart.destroy();

            }

            const ctx = userBehaviorChart.getContext('2d');

            const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];

            const data = days.map(() => Math.floor(Math.random() * 500) + 100);

            userChart = new Chart(ctx, {

                type: 'bar',

                data: {

                    labels: days,

                    datasets: [{

                        label: 'User Sessions',

                        data: data,

                        backgroundColor: 'rgba(9, 132, 227, 0.5)',

                        borderColor: '#0984e3',

                    }]

                },

                options: {

                    responsive: true,

                    maintainAspectRatio: false,

                }

            });

        }

        function initRevenueAnalysisChart() {

            if (analyticsRevenueChart) {

                analyticsRevenueChart.destroy();

            }

            const ctx = revenueAnalysisChart.getContext('2d');

            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];

            const data = months.map(() => Math.floor(Math.random() * 50000) + 20000);

            analyticsRevenueChart = new Chart(ctx, {

                type: 'line',

                data: {

                    labels: months,

                    datasets: [{

                        label: 'Revenue',

                        data: data,

                        backgroundColor: 'rgba(9, 132, 227, 0.1)',

                        borderColor: '#0984e3',

                        fill: true,

                        tension: 0.4

                    }]

                },

                options: {

                    responsive: true,

                    maintainAspectRatio: false,

                }

            });

        }

        function initTrendAnalysisChart() {

            if (trendChart) {

                trendChart.destroy();

            }

            const ctx = trendAnalysisChart.getContext('2d');

            const categories = ['Category A', 'Category B', 'Category C', 'Category D'];

            const data1 = categories.map(() => Math.floor(Math.random() * 100) + 50);

            const data2 = categories.map(() => Math.floor(Math.random() * 100) + 50);

            trendChart = new Chart(ctx, {

                type: 'radar',

                data: {

                    labels: categories,

                    datasets: [

                        {

                            label: 'Current Period',

                            data: data1,

                            backgroundColor: 'rgba(9, 132, 227, 0.2)',

                            borderColor: '#0984e3',

                        },

                        {

                            label: 'Previous Period',

                            data: data2,

                            backgroundColor: 'rgba(255, 118, 117, 0.2)',

                            borderColor: '#ff7675',

                        }

                    ]

                },

                options: {

                    responsive: true,

                    maintainAspectRatio: false,

                }

            });

        }

        // Initialize analytics charts
        initUserBehaviorChart();

        initRevenueAnalysisChart();

        initTrendAnalysisChart();

        // Update charts when filters change
        userSegment.addEventListener('change', initUserBehaviorChart);

        timeRange.addEventListener('change', initUserBehaviorChart);

        revenueMetric.addEventListener('change', initRevenueAnalysisChart);

        revenuePeriod.addEventListener('change', initRevenueAnalysisChart);

        runAnalysisBtn.addEventListener('click', () => {

            initTrendAnalysisChart();

            alert('Analysis complete! New trends identified.');

        });

        // Settings functionality
        const profileForm = document.getElementById('profileForm');

        const saveNotificationsBtn = document.getElementById('saveNotifications');

        const saveDisplaySettingsBtn = document.getElementById('saveDisplaySettings');

        const saveDataSettingsBtn = document.getElementById('saveDataSettings');

        const themeOptions = document.querySelectorAll('.theme-option');

        // Theme selection
        themeOptions.forEach(option => {

            option.addEventListener('click', () => {

                const theme = option.dataset.theme;

                if (theme === 'light') {

                    document.body.dataset.theme = '';

                } else if (theme === 'dark') {

                    document.body.dataset.theme = 'dark';

                } else {

                    // Auto theme based on system preference
                    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

                    document.body.dataset.theme = prefersDark ? 'dark' : '';

                }

            });

        });

        // Save settings
        profileForm.addEventListener('submit', (e) => {

            e.preventDefault();

            alert('Profile settings saved successfully!');

        });

        saveNotificationsBtn.addEventListener('click', () => {

            alert('Notification preferences saved successfully!');

        });

        saveDisplaySettingsBtn.addEventListener('click', () => {

            alert('Display settings applied successfully!');

        });

        saveDataSettingsBtn.addEventListener('click', () => {

            alert('Data preferences saved successfully!');

            // Update refresh rate based on selection
            const refreshRate = parseInt(document.getElementById('dataRefreshRate').value) * 1000;

            // Clear existing interval and set new one
            clearInterval(window.dataRefreshInterval);

            window.dataRefreshInterval = setInterval(() => {

                mainRevenueChart.data.datasets[0].data = mainRevenueChart.data.datasets[0].data.map(

                    value => value + Math.random() * 10 - 5

                );

                mainRevenueChart.update();

                mainUsersChart.data.datasets[0].data = mainUsersChart.data.datasets[0].data.map(

                    value => value + Math.random() * 20 - 10

                );

                mainUsersChart.update();

                // Re-setup tooltips after table updates
                setupTooltips();

            }, refreshRate);

        });

        // Real-time Updates

        window.dataRefreshInterval = setInterval(() => {

            mainRevenueChart.data.datasets[0].data = mainRevenueChart.data.datasets[0].data.map(

                value => value + Math.random() * 10 - 5

            );

            mainRevenueChart.update();

            mainUsersChart.data.datasets[0].data = mainUsersChart.data.datasets[0].data.map(

                value => value + Math.random() * 20 - 10

            );

            mainUsersChart.update();

            // Re-setup tooltips after table updates
            setupTooltips();

        }, 5000);

    </script>

</body>

</html>
